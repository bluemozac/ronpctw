//===== rAthena Script =======================================
//= Nightmare Biolab NPCs
//===== Description: =========================================
//= [Walkthrough Conversion]
//= Nightmare Biolab exchange NPCs
//  NOTE: The nightmare biolab monsters are currently missing
//  some items used in the file.
//    Silent Energy Particles (ID: 25127)
//    Weak Energy Particles (ID: 25128)
//    Unstable Energy Particles (ID: 25129)
//    Sinister Energy Particles (ID: 25130)
//    Cursed Crystal (ID: 23080)
//===== Changelogs: ==========================================
//= 1.0 First version. [Capuche]
//= 1.1 Added some missing warp points and lore pieces [akaineko]
//============================================================

// Item Functions
//============================================================
function	script	F_Pieces_Of_Sentiment	{	// 22687
	if (strcharinfo(3) == "lhz_dun_n")// usage forbidden on the same map
		return;
	specialeffect2 EF_HIT4;
	.@r = rand(1,23);
	if (.@r == 1)
		warp "lhz_dun_n",140,89;
	else if (.@r == 2)
		warp "lhz_dun_n",75,138;
	else if (.@r == 3)
		warp "lhz_dun_n",198,151;
	else if (.@r == 4)
		warp "lhz_dun_n",200,189;
	else if (.@r == 5)
		warp "lhz_dun_n",87,84;
	else if (.@r == 6)
		warp "lhz_dun_n",201,101;
	else if (.@r == 7)
		warp "lhz_dun_n",230,138;
	else if (.@r == 8)
		warp "lhz_dun_n",239,220;
	else if (.@r == 9)
		warp "lhz_dun_n",162,252;
	else if (.@r == 10)
		warp "lhz_dun_n",99,106;
	else if (.@r == 11)
		warp "lhz_dun_n",40,212;
	else if (.@r == 12)
		warp "lhz_dun_n",140,191;
	else if (.@r == 13)
		warp "lhz_dun_n",164,77;
	else if (.@r == 14)
		warp "lhz_dun_n",124,138;
	else if (.@r == 15)
		warp "lhz_dun_n",28,140;
	else if (.@r == 16)
		warp "lhz_dun_n",78,189;
	else if (.@r == 17)
		warp "lhz_dun_n",137,262;
	else if (.@r == 18)
		warp "lhz_dun_n",115,253;
	else if (.@r == 19)
		warp "lhz_dun_n",140,39;
	else if (.@r == 20)
		warp "lhz_dun_n",240,64;
	else if (.@r == 21)
		warp "lhz_dun_n",131,235;
	else if (.@r == 22)
		warp "lhz_dun_n",34,70;
	else
		warp "lhz_dun_n",176,202;
	delitem 22687,1;
	return;
}

function	script	F_Cursed_Fragment	{	// 23016
	.@r = rand(1,12);
	if (.@r == 1) {
		showscript "I will never forgive you...!";
		sc_start SC_ATKPOTION,600000,50;
		sc_start SC_MATKPOTION,600000,50;
	}
	else if (.@r == 2) {
		showscript "Somebody please help me...";
		sc_start SC_CURSE,10000,0;
	}
	else if (.@r == 3) {
		showscript "Stop it... It hurts...";
		sc_start SC_BLEEDING,5000,0;
	}
	else if (.@r == 4) {
		showscript "It's so cold in here...";
		sc_start SC_FREEZE,5000,0;
	}
	else if (.@r == 5) {
		showscript "Please... Stay with me...";
		itemskill "AL_TELEPORT",1;
	}
	else if (.@r == 6) {
		showscript "Stay... here with me...";
		itemskill "AL_TELEPORT",1;
	}
	else if (.@r == 7) {
		showscript "You shouldn't have come here...";
		sc_start SC_STUN,5000,0;
	}
	else if (.@r == 8) {
		showscript "Hello... Is anyone there...?";
		sc_start SC_BLIND,5000,0;
	}
	else if (.@r == 9) {
		showscript "I am so scared....scared....";
		sc_start SC_CONFUSION,10000,0;
	}
	else if (.@r == 10) {
		showscript "Dear Odin...";
		sc_start SC_ASSUMPTIO,100000,5;
		specialeffect2 EF_ASSUMPTIO;
	}
	else if (.@r == 11) {
		showscript "Wake up!";
		percentheal 0,20;
	}
	else {
		showscript "I am sorry... I will leave now... thank you...";
		getitem 6820,1;// Energy_Fragment
	}
	return;
}


// Nightmare Biolab Entrances
lighthalzen,321,218,4	script	Ohno Tohiro#1	4_M_RASWORD,{
	disable_items;
	mes "《尾巴的藤弘》";
	.@r = rand(1,10);
	if (.@r < 6)
		mes "我被要求收集某種研究圖表...";
	else if (.@r < 7) {
		mes "- 我聽到有人在說話 -   - 遠程交流 -";
		next;
		mes "《尾巴的藤弘》";
		mes "是的...一切都在順利進行。";
		mes "報告集合的狀態還可以。";
		mes "是的，先生。";
		next;
		mes "《尾巴的藤弘》";
		mes "我將立即將與實驗室有關的信息報告為重中之重。";
		mes "是的，先生...我要這樣做。";
		next;
		mes "《尾巴的藤弘》";
		mes "哦，有人來了！我稍後再打給你。";
	}
	else {
		mes "《尾巴的藤弘》";
		mes "我的肩膀很重。";
		mes "我們的願望。";
		mes "一一慢慢..";
	}
	next;
	mes "《尾巴的藤弘》";
	mes "呃...？我沒有意識到有人已經在這裡...";
	mes "嗯...嗯...";
	mes "你想要我的東西嗎？";
	while(true) {
		next;
		switch( select("結束談話。", "向他詢問榮譽墓的事情。", "返回榮譽之墓。", "說Zeny還不夠。" ) ) {
		case 1:
			mes "《尾巴的藤弘》";
			mes "除您外，還有許多冒險家正在尋找這個縫隙！";
			mes "如果您改變主意，請再次回到我身邊！";
			close;
		case 2:
			mes "《尾巴的藤弘》";
			mes "您還聽說過通往那個地方的縫隙，對嗎？";
			mes "這些天有很多像您這樣的冒險家！";
			next;
			mes "《尾巴的藤弘》";
			mes "我第一次進入這個縫隙，猜猜是什麼？它導致了一個有很多怪物蜂擁而至的地方。";
			next;
			mes "《尾巴的藤弘》";
			mes "我對一位我認識的冒險家提出了關注。然後，他對此非常感興趣！";
			mes "他一直在喃喃自語，對生物醫學研究進行了類似的事情。";
			next;
			mes "《尾巴的藤弘》";
			mes "他一直要求我向他展示如何到達那裡。我不願意讓他知道這個縫隙，因為我不想讓別人知道這一點。但是我將此信息換成100,000 Zeny。";
			next;
			mes "《尾巴的藤弘》";
			mes "不久之後，他帶著身體徹底受傷回來。他活著回來是一個奇蹟...太可怕了...";
			mes "但是，他拿著幾件物品。乍一看，他們看起來如此強大，即使我感到害怕。";
			next;
			mes "《尾巴的藤弘》";
			mes "之後，許多冒險家在聽到謠言後通過這個縫隙進入了這個危險的地方。我幾乎沒有發現任何冒險家再次從這個縫隙中出來。從那以後，這個地方被稱為榮譽墓。";
			mes "不過，我賺了一些錢。";
			next;
			mes "《尾巴的藤弘》";
			mes "您想知道我為什麼賺錢嗎？";
			mes "我第一次找到了這個地方，所以它的所有權也屬於我！你有問題嗎？";
			next;
			mes "《尾巴的藤弘》";
			mes "嗯...無論如何，給我100,000 Zeny。然後，我將打開通往像您這樣的冒險家的縫隙...";
			continue;
		case 3:
			if (Zeny < 100000) {
				mes "《尾巴的藤弘》";
				mes "你沒有足夠的錢！";
				mes "這個世界上沒有什麼免費！";
				continue;
			}
			mes "《尾巴的藤弘》";
			mes "讓我看看...一個...兩個...三";
			mes "好吧。現在我收到了Zeny，我將打開縫隙。";
			mes "我希望你能活著回來！";
			next;
			if (Zeny >= 100000) {
				Zeny -= 100000;
				warp "lhz_dun_n",100,202;
			}
			end;
		case 4:
			mes "《尾巴的藤弘》";
			mes "什麼？您沒有足夠的Zeny，但是您想輸入嗎？";
			mes "嗯...然後...有機會，您有一個研究圖表嗎？";
			next;
			mes "《尾巴的藤弘》";
			mes "安靜地說話。周圍的人可能會聽到我們的聲音。你有嗎？";
			next;
			mes "《尾巴的藤弘》";
			mes "不要問我為什麼需要它。給我10個研究圖表。然後，我將您送往榮譽墓。你想什麼？";
			next;
			if (select("返回上一級菜單。", "交出 10 張研究圖表。" ) == 1) {
				mes "《尾巴的藤弘》";
				mes "你還有其他生意嗎？";
				continue;
			}
			if (countitem(7347) < 10) {
				mes "《尾巴的藤弘》";
				mes "似乎現在缺少10個研究圖表。";
				mes "也許您沒有從倉庫中撿起它們。";
				next;
				mes "《尾巴的藤弘》";
				mes "您還想要我的其他東西嗎？";
				continue;
			}
			mes "《尾巴的藤弘》";
			mes "哦...是的，就是這樣...這就是我需要的... Hoo Hoo ...";
			next;
			mes "《尾巴的藤弘》";
			mes "我會按照承諾將您發送到縫隙。";
			mes "我要你還活著。再次見！";
			next;
			delitem 7347,10;// Lab_Staff_Record
			warp "lhz_dun_n",100,202;
			end;
		}
	}
}

lighthalzen,320,204,3	script	A kid with black finger	4_F_04,{
	disable_items;
	mes "[月球]";
	mes "你要買什麼？您是否正在尋找所有死者漫遊的地方？";
	next;
	mes "[月球]";
	mes "如果您願意，我可以帶您去那裡。您將需要 ^0000CD20感性片段和150K Zeny ^000000。";
	next;
	mes "[月球]";
	mes "或者，您可以安全地看到情緒，而不會中斷死者。這將花費您 ^0000CD30感性片段和2M Zeny ^000000。";
	next;
	mes "[月球]";
	mes "你想去哪裡？";
	next;
	switch( select("所有死人都遊蕩的地方。", "只有思想才能得到滿足。", "這是一個什麼樣的地方？", "我不介意。" ) ) {
	case 1:
		mes "[月球]";
		mes "你有一切對嗎？";
		next;
		if (countitem(22687) < 20 || Zeny < 150000) {
			mes "[月球]";
			mes "讓我看看。";
			next;
			mes "[月球]";
			mes "還不夠。您需要 ^0000CD20感性片段和150K Zeny ^000000。我不能免費帶你到那裡。";
			close;
		}
		mes "[月球]";
		mes "你有一切對嗎？";
		next;
		mes "[月球]";
		mes "好的。你有一切。我帶你到那裡。";
		next;
		mes "[月球]";
		mes "但是...我要帶你去錢...你應該小心。";
		next;
		mes "[月球]";
		mes "因此，如果您進入室內，您會看到一台看起來像Crystal ^000000的 ^0000CDSTRANGE機器。";
		next;
		mes "[月球]";
		mes "如果您使用該機器，該機器將恢復您的HP。它幫助我生存。我不知道為什麼在那種地方...";
		next;
		mes "[月球]";
		mes "我關閉了機器，所以沒人可以使用它，但是我會讓您將其用作我的特殊待遇。";
		next;
		mes "[月球]";
		mes "請小心，如果需要的話，請使用機器！";
		delitem 22687,20;// Sentimental Fragment
		Zeny = Zeny - 150000;
		if (isbegin_quest(14683) > 0)
			erasequest 14683;
		setquest 14683;// Mysterious Device
		close2;
		warp "lhz_dun_n",162,254;
		end;
	case 2:
		mes "[月球]";
		mes "你有所有的物品和錢嗎？";
		next;
		if (countitem(22687) < 30 || Zeny < 2000000) {
			mes "[月球]";
			mes "讓我看看。";
			next;
			mes "[月球]";
			mes "還不夠。需要^0000CD30感性片段和2m Zeny^000000。我不能免費帶你。";
			close;
		}
		mes "[月球]";
		mes "好的。你有一切。我帶你到那裡。";
		next;
		mes "[月球]";
		mes "出口在牆外。";
		next;
		mes "[月球]";
		mes "^ee0000well，我也有警告。您的位置無法保存在那裡，因此，如果您註銷或斷開連接，您將被移至保存點。";
		close2;
		delitem 22687,30;
		Zeny = Zeny - 2000000;
		warp "lhz_d_n2",60,44;
		end;
	case 3:
		mes "[月球]";
		mes "我在地面上挖了東西可以吃點東西，我發現了更好的東西。";
		next;
		mes "[月球]";
		mes "生活無法生存。只有死者漫遊。";
		next;
		mes "[月球]";
		mes "有謠言..去那裡的人從未回來...";
		next;
		mes "[月球]";
		mes "我很害怕，但是..很明顯，這是冒險家參觀的熱門場所。";
		next;
		mes "[月球]";
		mes "我到達的地方是 ^0000cdnear奇怪的情緒 ^000000。";
		next;
		mes "[月球]";
		mes "我逃跑了，因為有很多死人試圖殺死我。";
		next;
		mes "[月球]";
		mes "但是後來我迷路了，跌倒在一個怪異的地方。";
		next;
		mes "[月球]";
		mes "這個地方與死者漫遊 ^0000cdbut的地方相同，只有情感 ^000000。我很害怕，所以我馬上就出去了。";
		next;
		mes "[月球]";
		mes "如果您給我錢和物品，我會帶您到那裡。";
		next;
		mes "[月球]";
		mes "沒有他的幫助，您可能會更容易。";
		close;
	case 4:
		mes "[月球]";
		mes "請隨時拜訪我。無論如何，我們沒有任何損失。";
		close;
	}
}

lighthalzen,327,216,3	script	Crevice#1	4_CRACK,{
	end;
OnInit:
	initnpctimer;
	end;
OnTimer5000:
	specialeffect EF_AGIUP3;
	end;
OnTimer6000:
	initnpctimer;
	end;
}

// Dungeon exit
lhz_dun_n,96,203,3	script	Dungeon gateway#1	4_CRACK,{
	if (select("不要退出地牢。", "退出地牢。" ) == 1) {
		mes "- 您仍然有生意要在這里處理 -";
		close;
	}
	warp "lighthalzen",310,228;
	end;
OnInit:
	initnpctimer;
	end;
OnTimer5000:
	specialeffect EF_AGIUP3;
	end;
OnTimer6000:
	initnpctimer;
	end;
}

// Lighthalzen Exchange NPCs
lighthalzen,319,213,4	script	Veteran Adventurer#JCv2	4_M_MELODY,2,2,{
	disable_items;
	mes "[老將冒險家]";
	mes "哦！您想交換思想或怨恨的碎片嗎？";
	next;
	setarray .@items[0],
		6469,200,	// Will of Warrior
		6470,200,	// Blood Thirst
		6471,300;	// Ghost Chill
	.@color$[0] = countitem(6820) < 200 ? "^777777" : "^000000";
	.@color$[1] = countitem(6820) < 300 ? "^777777" : "^000000";
	.@s = select("聽故事。", .@color$[0] + "1 Will of Warrior (200 Energy pieces)", .@color$[0] + "1 Blood Thirst (200 energy pieces)", .@color$[1] + "1 Ghost Chill (300 energy pieces)^000000" ) - 2;
	if (.@s == -1) {
		emotion ET_QUESTION;
		mes "[老將冒險家]";
		mes "您看起來好像有空閒時間，不是嗎？好吧，這些天我的生意也很慢...";
		next;
		mes "[老將冒險家]";
		mes "有一天，公會大師突然進入了我的公會...";
		next;
		mes "[老將冒險家]";
		mes "'^1f294di'將使所有行會中的所有成員都戴著墮落的士兵的斗篷！ ^000000'。";
		next;
		mes "[老將冒險家]";
		mes "如您所知，該設備需要大量材料，因此所有公會成員別無選擇，只能被困在地牢中並被迫工作。";
		next;
		mes "[老將冒險家]";
		mes "您永遠不知道最終可能會有什麼運氣。我用決心拋棄了這項挖掘工作，發現了很多稀有的作品。";
		next;
		mes "[老將冒險家]";
		mes "Sub-Guild女士將我送我與他人交換，因為一堆不斷形成。";
		next;
		mes "[老將冒險家]";
		mes "當然，交流的數量是由公會大師強調的";
		mes "'^1f294di's永遠不會接受它，如果它低於此金額！ ！ ^000000'...";
		next;
		emotion ET_HNG;
		mes "[老將冒險家]";
		mes "Sub-Guild女士試圖將污垢扔到公會大師的眼中。我們真的很難阻止她。";
		next;
		mes "[老將冒險家]";
		mes "我想如果他將其調整為低數量，我們可以迅速照顧它。 （嘆息）...就是這樣。";
		close;
	}
	.@s *= 2;
	mes "[老將冒險家]";
	mes "^3300661" + getitemname(.@items[.@s]) + "^000000 is exchanged with ^CC3333" + .@items[.@s+1] + " Energy Pieces^000000.";
	next;
	if (select("交換。", "請勿交換。" ) == 2) {
		emotion ET_OTL;
		mes "[老將冒險家]";
		mes "什麼？ ...我以為你要換它。";
		close;
	}
	while(true) {
		if (countitem(6820) < .@items[.@s+1]) {
			emotion ET_SORRY;
			mes "[老將冒險家]";
			mes "對不起。我別無選擇，因為公會大師訂購了它。你需要" + .@items[.@s+1] + " items, if he says no, I'm not at liberty to exchange it.";
			close;
		}
		delitem 6820, .@items[.@s+1];// Energy Pieces
		getitem .@items[.@s],1;
		mes "[老將冒險家]";
		mes "您想繼續換它嗎？";
		next;
		if (select("繼續交流。", "停止交換。" ) == 2) {
			emotion ET_THANKS;
			mes "[老將冒險家]";
			mes "謝謝...我想我不會受到公會大師的懲罰，感謝您。";
			close;
		}
	}
	end;

OnTouch:
	.@r = rand(4);
	if (.@r == 0)
		npctalk "我想用1個戰士意志換200個能量塊。", "", bc_self;
	else if (.@r == 1)
		npctalk "我想用 1 個鬼寒換 300 個能量塊。", "", bc_self;
	else if (.@r == 2)
		npctalk "我想用 200 能量塊交換 1 嗜血。", "", bc_self;
	else {
		emotion ET_OHNO;
		npctalk "哎呀！ ...為什麼找碎片這麼難？", "", bc_self;
	}
	end;
}

lighthalzen,312,296,4	script	Bully#JCv2	4_M_LGTPOOR,{
	disable_items;
	mes "[欺負]";
	mes "嘿，哥們。您還有剩餘的能量碎片嗎？如果您願意，我會用合適的東西進行交換。";
	next;
	.@s = select(
		"Listen to the story.",
		( countitem(25127) < 2000 ? "^777777" : "^000000" ) + "1 Energy Fragment (2000 Silent E Particles)",
		( countitem(25128) < 1000 ? "^777777" : "^000000" ) + "1 Energy Fragment (1000 Weak E Particles)",
		( countitem(25129) < 500 ? "^777777" : "^000000" ) + "1 Energy Fragment (500 Unstable E Particles)",
		( countitem(25130) < 500 ? "^777777" : "^000000" ) + "1 Energy Fragment (500 Sinister E Particles)",
		( countitem(25131) < 50 ? "^777777" : "^000000" ) + "1 Energy Fragment (50 Fallen E Particles)",
		( countitem(6820) < 50 ? "^777777" : "^000000" ) + "1 Sentimental Fragment (50 Energy Fragments)",
		( countitem(6820) < 666 ? "^777777" : "^000000" ) + "1 Cursed Fragment (666 Energy Fragments)"
	) - 2;
	if (.@s == -1) {
		emotion ET_THINK;
		mes "[欺負]";
		mes "…………";
		next;
		mes "[欺負]";
		mes "嗯...這是非常意外的。";
		mes "通常，他無視我，然後繼續做他的工作。";
		next;
		mes "[欺負]";
		mes "對不起，但我無話可說。我只是這樣做，因為我可以賺很多錢。";
		close;
	}
	setarray .@exchange[0],
		6820, 25127,2000,	// Silent Energy Particle -> Energy Fragment
		6820, 25128,1000,	// Weak Energy Particles -> Energy Fragment
		6820, 25129,500,	// Unstable Energy Particle -> Energy Fragment
		6820, 25130,500,	// Sinister Energy Particle -> Energy Fragment
		6820, 25131,50,		// Fallen Energy Particle -> Energy Fragment
		22687, 6820,50,		// Energy Fragment -> Sentimental Fragment
		23016, 6820,666;	// Energy Fragment -> Cursed Fragment
	.@index = .@s * 3;
	mes "[欺負]";
	mes "您確定要交換 ^330066" + .@exchange[.@index+2] + " " + getitemname(.@exchange[.@index+1]) + "^000000 with ^CC33331 " + getitemname(.@exchange[.@index]) + "^000000?";
	next;
	if (select("交換。", "請勿交換。" ) == 2) {
		emotion ET_HNG;
		mes "[欺負]";
		mes "好吧...如果您不喜歡它，請不要介意。";
		close;
	}
	while(true) {
		if (countitem(.@exchange[.@index+1]) < .@exchange[.@index+2]) {
			emotion ET_SCRATCH;
			mes "[欺負]";
			mes "不...不...你不應該這樣做。";
			mes "你告訴我你會用" + .@exchange[.@index+2] + " (item)s.";
			close;
		}
		delitem .@exchange[.@index+1], .@exchange[.@index+2];
		getitem .@exchange[.@index], 1;
		emotion ET_SEXY;
		mes "[欺負]";
		mes "哦，謝謝。您還想換其他東西嗎？";
		next;
		if (select("繼續交流。", "停止交換。" ) == 2) {
			mes "[欺負]";
			mes "當您剩下一些能量件時，再次來找我。";
			close;
		}
	}
}

// Enchants NPCs
lhz_dun_n,145,265,4	script	Silent Mind#JCv2	4_CENERE,{
	disable_items;
	mes "[沉默的頭腦]";
	mes "…………！";
	mes "...";
	mes "^ff0000*當您將3種相同類型的靈魂送給頭腦時，您可以獲得死亡的胸部。 *^000000";
	next;
	setarray .@item[0],6814,6815,6816,6817,6818,6819;
	for ( .@i = 0; .@i < 6; ++.@i ) {
		if (countitem(.@item[.@i]) < 3)
			.@menu$ += "^777777Not enough " + getitemname(.@item[.@i]) + ".^000000:";
		else
			.@menu$ += "Hand over 3 " + getitemname(.@item[.@i]) + ".:";
	}
	.@s = select(.@menu$) - 1;
	while(true) {
		if (countitem(.@item[.@s]) < 3) {
			emotion ET_HNG;
			mes "[沉默的頭腦]";
			mes "！ …………";
			mes "^ff0000*您需要3種相同類型的靈魂才能與死亡的胸部進行交易。 *^000000";
			close;
		}
		delitem .@item[.@s],3;
		getitem 22679,1;// Chest_of_Death
		emotion ET_HUNGRY;
		mes "[沉默的頭腦]";
		mes "…………";
		mes "...";
		mes "^ff0000*您已經獲得了死亡的胸部。您想繼續交易嗎？ *^000000";
		next;
		if (select("繼續交流。", "停止交換。" ) == 2) {
			mes "[沉默的頭腦]";
			mes "…………";
			close;
		}
	}
}

lhz_dun_n,134,265,2	script	Wandering Mind#JCv2	4_CENERE,{
	disable_items;
	npctalk "KKK...我能...感覺到...", "", bc_self;
	mes "[徘徊的頭腦]";
	mes "kkk ...我可以……感覺...怨恨...無數...主題...";
	next;
	npctalk "我……是誰……？", "", bc_self;
	mes "[徘徊的頭腦]";
	mes "在哪裡...在這裡？";
	next;
	mes "[徘徊的頭腦]";
	mes "我需要...仇恨的...怨恨的...強大...力量...這會有所幫助...我倆...";
	next;
	switch( select("舊頭盔附魔", "舊頭盔重置", "舊頭盔附魔描述" ) ) {
	case 1:
		npctalk "交出……恩怨……恩怨……", "", bc_self;
		mes "[徘徊的頭腦]";
		mes "krrr ...呵呵...交了...怨恨的...強大的力量...我會迷住...特殊的力量...伸入頭盔...";
		mes "^ff0000*如果您帶來了被詛咒的碎片，則可以將其插入舊的頭盔中。 *^000000";
		next;
		.@equip_id = getequipid(EQI_HEAD_TOP);
		switch(.@equip_id) {
			case 18971:// Old_Rune_Circlet
			case 18972:// Old_Mitra
			case 18973:// Old_Driver_Band_R
			case 18974:// Old_Driver_Band_Y
			case 18975:// Old_Shadow_Handicraft
			case 18976:// Old_Minstrel_Song_Hat
			case 18977:// Old_Midas_Whisper
			case 18978:// Old_Magic_Stone_Hat
			case 18979:// Old_Blazing_Soul
			case 18980:// Old_Wind_Whisper
			case 18981:// Old_Dying_Swan
			case 18982:// Old_Circlet_Of_Bone
			case 18983:// Old_Protect_Of_Crown
			case 18984:// Old_Camo_RabbitHood
				break;
			default:
				npctalk "毀掉它……毀掉它……", "", bc_self;
				mes "[徘徊的頭腦]";
				mes "這是...有趣的...戴那個頭盔...沒有香水...充滿了特殊的力量...您想要...破壞...？ KKK ...";
				mes "^ff0000*僅在舊的頭盔中使用被詛咒的碎片的結界。 *^000000";
				close;
		}
		mes "[徘徊的頭腦]";
	
		.@requirement = 10;	// 10 Cursed Fragments by default
		setarray .@card[0], getequipcardid(EQI_HEAD_TOP,0), getequipcardid(EQI_HEAD_TOP,1), getequipcardid(EQI_HEAD_TOP,2), getequipcardid(EQI_HEAD_TOP,3);
		.@refine = getequiprefinerycnt(EQI_HEAD_TOP);
	
		if (.@card[3] == 0) {
			.@slot = 3;
			mes "怎麼樣...我們開始...輕輕地開始？ ...測試...你的運氣... kr..hehe ...";
			mes "^ff0000*嘗試結界到第四個插槽。 6個狀態之一是隨機附魔。 *^000000";
		}
		else if (.@card[2] == 0) {
			.@slot = 2;
			mes "Kr ...呵呵...做...您喜歡...您的...首先...結界？";
			mes "^ff0000*嘗試結界到第三插槽。 6個狀態之一是隨機附魔。 *^000000";
		}
		else if (.@card[1] == 0) {
			.@slot = 1;
			mes "KR ...呵呵...是否會有...一扇門...要獲得……更強大的力量...將...決定...現在...";
			mes "^ff0000*嘗試結界到第二個插槽。";
			mes "一旦您成功地獲得了勇氣，魔法精華，急性，大師弓箭手，金剛天素，情感附魔，就可以得到加強。 *^000000";
		}
		else {
			// enchant leveling
			switch( .@card[1] ) {
			case 29061:	// Ambition1Lv
			case 29071:	// Tab1Lv
			case 29081:	// Expect1Lv
			case 29091:	// ArchLine1Lv
			case 29101:	// Steel1Lv
			case 29111:	// Mercy1Lv
				mes "Kr ...他...他...你...幸運...我希望...你一切都取得成功！";
				.@requirement = 20;
				.@enchant_level = 1;
				.@enchant_rate = 80;
				break;
			case 29062:	// Ambition2Lv
			case 29072:	// Tab2Lv
			case 29082:	// Expect2Lv
			case 29092:	// ArchLine2Lv
			case 29102:	// Steel2Lv
			case 29112:	// Mercy2Lv
				mes "第三...級別...加強？ ...如果您成功...您將...獲得……強大的力量...但是如果您失敗了...您會失去權力...您已經收集了...到目前為止...";
				.@requirement = 40;
				.@enchant_level = 2;
				.@enchant_rate = 70;
				break;
			case 29063:	// Ambition3Lv
			case 29073:	// Tab3Lv
			case 29083:	// Expect3Lv
			case 29093:	// ArchLine3Lv
			case 29103:	// Steel3Lv
			case 29113:	// Mercy3Lv
				mes "第四...級別...加強？ ...如果您成功了...您會...獲得……強大的力量...但是如果您失敗了...您會失去權力...您已經收集了...到目前為止...";
				.@requirement = 50;
				.@enchant_level = 3;
				.@enchant_rate = 50;
				break;
			case 29064:	// Ambition4Lv
			case 29074:	// Tab4Lv
			case 29084:	// Expect4Lv
			case 29094:	// ArchLine4Lv
			case 29104:	// Steel4Lv
			case 29114:	// Mercy4Lv
				mes "第五...級別...加強？ ...您準備好...準備好...如此巨大的權力？ ...但是如果您失敗了...結果將是...值得...看...";
				.@requirement = 70;
				.@enchant_level = 4;
				.@enchant_rate = 20;
				break;
			case 29065:	// Ambition5Lv
			case 29075:	// Tab5Lv
			case 29085:	// Expect5Lv
			case 29095:	// ArchLine5Lv
			case 29105:	// Steel5Lv
			case 29115:	// Mercy5Lv
				mes "第六...級別...加強？ ...您...準備好...要控制...如此巨大的權力？ ...但是如果您失敗了...結果將是...值得...看...";
				.@requirement = 100;
				.@enchant_level = 5;
				.@enchant_rate = 20;	// unknown rates
				break;
			case 29066:	// Ambition6Lv
			case 29076:	// Tab6Lv
			case 29086:	// Expect6Lv
			case 29096:	// ArchLine6Lv
			case 29106:	// Steel6Lv
			case 29116:	// Mercy6Lv
				// custom text
				mes "第7級...級別...加強？ ...您...準備好...可以控制...如此巨大的權力？ ...但是如果您失敗了...結果將是...值得...看...";
				.@requirement = 150;
				.@enchant_level = 6;
				.@enchant_rate = 20;	// unknown rates
				break;
			case 29067:	// Ambition7Lv
			case 29077:	// Tab7Lv
			case 29087:	// Expect7Lv
			case 29097:	// ArchLine7Lv
			case 29107:	// Steel7Lv
			case 29117:	// Mercy7Lv
				// custom text
				mes "8th ...級別...加強？ ...您準備...準備好...如此巨大的權力？ ...但是如果您失敗了...結果將是...值得...看...";
				.@requirement = 250;
				.@enchant_level = 7;
				.@enchant_rate = 20;	// unknown rates
				break;
			case 29068:	// Ambition8Lv
			case 29078:	// Tab8Lv
			case 29088:	// Expect8Lv
			case 29098:	// ArchLine8Lv
			case 29108:	// Steel8Lv
			case 29118:	// Mercy8Lv
				// custom text
				mes "9th ...級別...加固？ ...您...準備好...可以控制...如此巨大的權力？ ...但是如果您失敗了...結果將是...值得...看...";
				.@requirement = 500;
				.@enchant_level = 8;
				.@enchant_rate = 20;	// unknown rates
				break;
			case 29069:	// Ambition9Lv
			case 29079:	// Tab9Lv
			case 29089:	// Expect9Lv
			case 29099:	// ArchLine9Lv
			case 29109:	// Steel9Lv
			case 29119:	// Mercy9Lv
				// custom text
				mes "第10級...級別...加固？ ...您準備...準備好...如此巨大的權力？ ...但是如果您失敗了...結果將是...值得...看...";
				.@requirement = 1000;
				.@enchant_level = 9;
				.@enchant_rate = 20;	// unknown rates
				break;
			case 29070:	// Ambition10Lv
			case 29080:	// Tab10Lv
			case 29090:	// Expect10Lv
			case 29100:	// ArchLine10Lv
			case 29110:	// Steel10Lv
			case 29120:	// Mercy10Lv
				// custom text
			default:
				mes "Krr Hehe ...不可能...加強...這種力量...剩下的唯一方法是...重置...";
				mes "^ff0000*勇氣，魔術精神，活力，公牛的眼睛，金剛動物，仁慈";
				mes "您只能在設備附魔時才加強結界水平。 *^000000";
				close;
			}
			.@slot = 999;
		}
		next;
		mes "[徘徊的頭腦]";
		mes "但是...在此之前...我需要檢查...您是否有...足夠的被詛咒的碎片...";
		next;
		mes "[徘徊的頭腦]";
		mes "詛咒...碎片..." + .@requirement + " are... needed... I wonder... whether... you can afford... them?... kk... kk...";
		mes "^ff0000*在附魔中，" + .@requirement + " Cursed Fragment(s) is(are) required.*^000000";
		next;
		if (select("繳納費用。", "不繳納費用。" ) == 2) {
			mes "[徘徊的頭腦]";
			mes "k ... kk ...似乎...你還沒有……準備好...如此巨大的力量...然而...";
			close;
		}
		if (countitem(23016) < .@requirement) {// Cursed Fragment
			mes "[徘徊的頭腦]";
			mes "k ... kk ...你是...在開玩笑...我嗎？";
			mes "^ff0000*在附魔中，需要（s）10個項目。";
			mes "檢查您擁有的被詛咒的碎片。 *^000000";
			close;
		}
		mes "[徘徊的頭腦]";
		mes "krr ..呵呵...這是...仇恨的力量...我認為...這種力量……強大...足以...";
		mes "^ff0000*設備冶煉水平，卡片，設備損失不會發生。但是，根據成功或失敗，可以降級結界水平。 *^000000";
		next;
		if (select("施展結界。", "不要施展結界。" ) == 2) {
			mes "[徘徊的頭腦]";
			mes "k ... kk ...似乎...你還沒有……準備好...如此巨大的力量...然而...";
			close;
		}
		progressbar "000000",1;
		delitem 23016, .@requirement;// Cursed Fragment

		// anti-hack
		if (callfunc("F_IsEquipIDHack", EQI_HEAD_TOP, .@equip_id) || callfunc("F_IsEquipCardHack", EQI_HEAD_TOP, .@card[0], .@card[1], .@card[2], .@card[3]) || callfunc("F_IsEquipRefineHack", EQI_HEAD_TOP, .@refine))
			close;

		switch(.@slot) {
		case 3:
		case 2:
			setarray .@enchant[0],
				4700,	// Strength1
				4701,	// Strength2
				4702,	// Strength3
				4703,	// Strength4
				4704,	// Strength5
				4710,	// Inteligence1
				4711,	// Inteligence2
				4712,	// Inteligence3
				4713,	// Inteligence4
				4714,	// Inteligence5
				4720,	// Dexterity1
				4721,	// Dexterity2
				4722,	// Dexterity3
				4723,	// Dexterity4
				4724,	// Dexterity5
				4730,	// Agility1
				4731,	// Agility2
				4732,	// Agility3
				4733,	// Agility4
				4734,	// Agility5
				4740,	// Vitality1
				4741,	// Vitality2
				4742,	// Vitality3
				4743,	// Vitality4
				4744,	// Vitality5
				4750,	// Luck1
				4751,	// Luck2
				4752,	// Luck3
				4753,	// Luck4
				4754;	// Luck5
			.@card[.@slot] = .@enchant[ rand( getarraysize(.@enchant) ) ];	// unknown rates
			break;
		case 1:
			setarray .@enchant[0],
				4703,	// Strength4
				4704,	// Strength5
				4713,	// Inteligence4
				4714,	// Inteligence5
				4723,	// Dexterity4
				4724,	// Dexterity5
				4733,	// Agility4
				4734,	// Agility5
				4743,	// Vitality4
				4744,	// Vitality5
				4753,	// Luck4
				4754,	// Luck5
				29061,	// Ambition1Lv
				29071,	// Tab1Lv
				29081,	// Expect1Lv
				29091,	// ArchLine1Lv
				29101,	// Steel1Lv
				29111;	// Mercy1Lv
			.@card[1] = .@enchant[ rand( getarraysize(.@enchant) ) ];	// unknown rates
			break;
		case 999:
			// enchant leveling
			if (.@enchant_rate > rand(100))
				.@level_dt = 1;
			else
				.@level_dt = -1;
			.@enchant_level += .@level_dt;
			.@card[1] += .@level_dt;
			if (.@card[1] < 29061 || .@card[1] > 29120) {
				mes "[徘徊的頭腦]";
				mes "發生了一些不好的事情。";
				close;
			}
			if (.@enchant_level < 1 || .@enchant_level > 10) {
				// item not deleted
				specialeffect2 EF_SUI_EXPLOSION;
				mes "[徘徊的頭腦]";
				mes "k..aargh ...！仇恨的力量……被驅趕了……陷入了瘋狂的……然而，幸運的是，它沒有爆炸，因為力量……是虛弱的。";
				close;
			}
			break;
		default:
			mes "[徘徊的頭腦]";
			mes "發生了一些不好的事情。";
			close;
		}
		delequip EQI_HEAD_TOP;
		getitem2 .@equip_id,1,1,.@refine,0,.@card[0],.@card[1],.@card[2],.@card[3];
		if (.@level_dt == -1) {// can only happens during enchant leveling
			specialeffect2 EF_SUI_EXPLOSION;
			mes "[徘徊的頭腦]";
			mes "k..aargh ...！仇恨的力量……被驅動……瘋狂……曾經是...穩定的力量...也跌倒了...一個級別下降...";
			mes "^ff0000*由於結界失敗，它已被降低一個級別。 *^000000";
			close;
		}
		specialeffect2 EF_FIREHIT;
		mes "[徘徊的頭腦]";
		mes "這是一個成功。我可以感覺到怨恨的力量變得更加強大。";
		mes "^ff0000*祝賀。您已經取得了成功。 *^000000";
		close;
	case 2:
		.@equip_id = getequipid(EQI_HEAD_TOP);
		switch(.@equip_id) {
			case 18971:// Old_Rune_Circlet
			case 18972:// Old_Mitra
			case 18973:// Old_Driver_Band_R
			case 18974:// Old_Driver_Band_Y
			case 18975:// Old_Shadow_Handicraft
			case 18976:// Old_Minstrel_Song_Hat
			case 18977:// Old_Midas_Whisper
			case 18978:// Old_Magic_Stone_Hat
			case 18979:// Old_Blazing_Soul
			case 18980:// Old_Wind_Whisper
			case 18981:// Old_Dying_Swan
			case 18982:// Old_Circlet_Of_Bone
			case 18983:// Old_Protect_Of_Crown
			case 18984:// Old_Camo_RabbitHood
				break;
			default:
				npctalk "毀掉它……毀掉它……", "", bc_self;
				mes "[徘徊的頭腦]";
				mes "這是...有趣的...戴那個頭盔...沒有香水...充滿了特殊的力量...您想要...破壞...？ KKK ...";
				mes "^ff0000*僅在舊頭盔中使用被詛咒的碎片的結界。 *^000000";
				close;
		}
		setarray .@card[0], getequipcardid(EQI_HEAD_TOP,0), getequipcardid(EQI_HEAD_TOP,1), getequipcardid(EQI_HEAD_TOP,2), getequipcardid(EQI_HEAD_TOP,3);
		.@refine = getequiprefinerycnt(EQI_HEAD_TOP);

		if (.@card[3] < 1) {// one enchant required
			npctalk "你……很冷靜……", "", bc_self;
			mes "[徘徊的頭腦]";
			mes "kkk ...你看起來很鎮定...沒有力量...";
			mes "^ff0000*這個頭盔沒有附魔，因此不能重置。 *^000000";
			close;
		}
		npctalk "咯……呵呵……我就吃……好吧……今天……", "", bc_self;
		mes "[徘徊的頭腦]";
		mes "kkk ...你不...喜歡這個力量嗎？";
		mes "^ff0000*您需要10個情感片段來重置它。";
		mes "除了冶煉設備和1個老虎機的冶煉水平外，所有應用於頭盔的附魔都將重置。 *^000000";
		next;
		if (select("不理他。", "繳納費用。" ) == 1) {
			npctalk "永遠...", "", bc_self;
			mes "[徘徊的頭腦]";
			mes "我...等...如果您需要我...我會等你...永遠... kkk ...";
			close;
		}
		if (countitem(22687) < 10) {// Sentimental Fragment
			mes "kk..k ...如果你...不要帶...";
			mes "10個思維力量...我會...麻煩...";
			mes "^ff0000*您需要10個情感片段來重置它。";
			mes "檢查您擁有的情感片段。 *^000000";
			close;
		}
		npctalk "哈哈哈...", "", bc_self;
		mes "[徘徊的頭腦]";
		mes "很好！";
		next;
		progressbar "000000",2;
		specialeffect2 EF_FIREHIT;
		delitem 22687,10;// Sentimental Fragment

		if (callfunc("F_IsEquipIDHack", EQI_HEAD_TOP, .@equip_id) || callfunc("F_IsEquipCardHack", EQI_HEAD_TOP, .@card[0], .@card[1], .@card[2], .@card[3]) || callfunc("F_IsEquipRefineHack", EQI_HEAD_TOP, .@refine))
			close;

		delequip EQI_HEAD_TOP;
		getitem2 .@equip_id,1,1,.@refine,0,.@card[0],0,0,0;
		mes "[徘徊的頭腦]";
		mes "k..kk ...強烈的怨恨的力量...被...吸收了...我迷失了的東西... k .. aargh ...";
		close;
	case 3:
		for ( .@i = 18971; .@i <= 18984; ++.@i ) {
			if (.@i < 18977)
				.@string$[0] += getitemname(.@i) + ", ";
			else if (.@i < 18984)
				.@string$[1] += getitemname(.@i) + ", ";
			else
				.@string$[2] = getitemname(.@i);
		}
		mes "[徘徊的頭腦]";
		mes "您想要...電源嗎？ ...如果是這樣，您...需要...舊的頭盔..";
		mes "^ff0000*您可以將其迷住" + .@string$[0];
		mes "" + .@string$[1];
		mes "" + .@string$[2] + ".*^000000";
		next;
		mes "[徘徊的頭腦]";
		mes "如果您...帶來怨恨的權力...我...我...給你...強大的力量...";
		mes "^ff0000*您需要被詛咒的片段才能吸引它。 *^000000";
		next;
		mes "[徘徊的頭腦]";
		mes "kkk ...當然...為了獲得...巨大的力量...您可能需要...無數的... Grudge's ... Power ... Power ...";
		mes "^ff0000*以4、3、2個插槽的順序進行。第一次吸引每個插槽時，您需要10個被詛咒的片段。 *^000000";
		next;
		mes "[徘徊的頭腦]";
		mes "如果您有...機會...您可能...能夠升級...結界級別...";
		mes "^ff0000*加強附魔水平時，消耗了50、70、100、150、250、500、1000的碎片，具體取決於附魔的水平";
		mes "在第二步中有20個被詛咒的碎片後增加，第三步中的40個被詛咒的碎片。 *^000000";
		close;
	}
}

lhz_dun_n,143,269,4	script	Victimized Soul's Mind#1	4_M_DEATH2,{
	disable_items;
	.@r = rand(5);
	if (.@r == 0)
		npctalk "是你……把我……變成了怪物……", "", bc_self;
	else if (.@r == 1)
		npctalk "請救救我……我會……做任何事……你吩咐的……", "", bc_self;
	else if (.@r == 2)
		npctalk "我心愛的……妻子和女兒……正在家裡……等我……", "", bc_self;
	else if (.@r == 3)
		npctalk "在經歷了這樣……可怕的事情之後……你……做了", "", bc_self;
	else
		npctalk "我的……腿……我的……手臂……", "", bc_self;
	mes "[受害靈魂的思想]";
	mes "無數...主題的...頭腦...";
	mes "過去...現在...報仇...";
	mes "你是誰...";
	mes "可以...你安慰...我們...";
	next;
	if (.@r == 0)
		npctalk "即使在我死後……或者在我的夢中……", "", bc_self;
	else if (.@r == 1)
		npctalk "請...救救我...請收起...那把刀...它嚇到我了...", "", bc_self;
	else if (.@r == 2)
		npctalk "拜託...就...放我走...我會給你錢...只要你想要...", "", bc_self;
	else if (.@r == 3)
		npctalk "難道……你不怕……上帝的……憤怒嗎？", "", bc_self;
	else
		npctalk "現在……啊……", "", bc_self;
	mes "[受害靈魂的思想]";
	mes "如果你...可以...做...也許...我可以...給...你們幫助...";
	next;
	if (.@r == 0)
		npctalk "我會把你……嚼成碎片……", "", bc_self;
	else if (.@r == 1)
		npctalk "拜託...啊啊...", "", bc_self;
	else if (.@r == 2)
		npctalk "請...", "", bc_self;
	else if (.@r == 3)
		npctalk "上帝...會保護...你...如果你...悔改...你的罪...現在...", "", bc_self;
	else
		npctalk "...尖叫...", "", bc_self;
	mes "[受害靈魂的思想]";
	mes "武器似乎……充滿……強烈的頭腦……我們的悲傷……和怨恨...";
	mes "如果你...帶...一個...我會恢復...";
	while(true) {
		next;
		if (checkweight(2677,5) == 0) {
			mes "[受害靈魂的思想]";
			mes "你的背包..";
			mes "填滿...";
			close;
		}
		if (select("交出武器。", "結束談話。" ) == 2) {
			mes "[受害靈魂的思想]";
			mes "...你...會...找到我...再次...";
			close;
		}
		mes "[受害靈魂的思想]";
		mes "什麼樣的頭腦...被包含...在此...武器中？ ...";
		next;
		while(true) {
			switch( select("返回上一級菜單。", "火車", "弓", "斧頭、狼牙棒、書", "魔杖", "劍、匕首", "矛、雙手劍", "樂器、鞭子、指關節" ) ) {
			case 1:
				break;
			case 2:
				callsub S_Exchange,
					1284,	// Krishna
					1290,	// Agent_Katar
					1285,	// Chakram
					1291;	// Guillotine_Katar
				continue;
			case 3:
				callsub S_Exchange,
					18109,	// Catapult
					18110,	// Big_CrossBow
					1745,	// Falken_Blitz
					18103,	// Mystic_Bow
					18111;	// Creeper_Bow
				continue;
			case 4:
				callsub S_Exchange,
					1311,	// Vecer_Axe
					1392,	// Ygnus_Stale
					1393,	// End_Sektura
					16017,	// Bloody_Cross
					16010,	// Red_Ether_Bag
					2161,	// Geffenia_Book_Water
					1584,	// Chilly_Spell_Book
					16000,	// Erde
					16001;	// Red_Square_Bag
				continue;
			case 5:
				callsub S_Exchange,
					2005,	// Dea_Staff
					2004,	// Kronos
					1647,	// Croce_Staff
					1659,	// Recovery_Light
					1646,	// La'cryma_Stick
					1654;	// Mental_Stick
				continue;
			case 6:
				callsub S_Exchange,
					13431,	// Chrome_Sword
					13421,	// Ruber
					13061,	// Black_Wing
					13062,	// Ancient_Dagger
					13070,	// Scarletto_Nail
					13069,	// Aztoe_Nail
					13046,	// Krieg
					13047;	// Weihna
				continue;
			case 7:
				callsub S_Exchange,
					1433,	// Imperial_Spear
					1435,	// Cannon_Spear
					1490,	// Giant_Lance
					1196,	// Chrome_Twohand_Sword
					1189;	// Krasnaya
				continue;
			case 8:
				callsub S_Exchange,
					1930,	// Green_Whistle
					1984,	// Stem_Whip
					1985,	// Rosebine
					1830;	// Sura_Rampage
				continue;
			}
			break;
		}
	}
	end;

S_Exchange:
	.@size = getargcount();
	.@menu$ = "Go back to previous menu.:";
	for ( .@i = 0; .@i < .@size; .@i++ ) {
		if (countitem(getarg(.@i)) < 1)
			.@menu$ += "^999999Not enough " + getitemname(getarg(.@i)) + ".^000000:";
		else
			.@menu$ += "You have " + getitemname(getarg(.@i)) + ".:";
	}
	.@s = select(.@menu$) - 2;
	if (.@s == -1)
		return;
	mes "[受害靈魂的思想]";
	mes "您...選擇了...武器……似乎……充滿了……強烈的頭腦……我……試圖將其恢復……到能量片段...您...同意嗎？";
	next;
	if (select("不同意。", "獲取能量碎片。" ) == 2) {
		if (countitem(getarg(.@s)) < 1) {
			mes "[受害靈魂的思想]";
			mes "你沒有... ^006400" + getitemname(getarg(.@s)) + "^000000...";
			mes "你還有...還有其他生意...和我在一起嗎？";
			next;
			return;
		}
		donpcevent strnpcinfo(0) + "::OnBar";
		sleep2 5000;
		specialeffect EF_BLACKBODY;
		specialeffect EF_GUMGANG4;
		specialeffect EF_DARKCASTING2;
		specialeffect EF_RG_COIN7;
		percentheal -50,-50;
		specialeffect2 EF_POISONSMOKE;
		specialeffect2 EF_NPC_BURNT;
		delitem getarg(.@s),1;
		.@r = rand(100);
		if (.@r < 70)
			.@amount = 1;
		else if (.@r < 90)
			.@amount = 2;
		else
			.@amount = 3;
		getitem 6820, .@amount;// Energy Fragment
		mes "[受害靈魂的思想]";
		mes "我做了...能量...片段...通過還原 ^006400" + getitemname(getarg(.@s)) + "^000000...";
		next;
		mes "- 我受到了嚴重的損害 - 通過Mind的強大波長 - 滲入了我的身體。 -";
		next;
	}
	mes "[受害靈魂的思想]";
	mes "你還有...還有其他生意...和我在一起嗎？";
	next;
	return;

OnBar:
	progressbar_npc "000000",5;
	end;
}

lhz_dun_n,136,269,6	script	Sorrowful Soul's Mind#1	4_M_DEATH,{
	disable_items;
	.@r = rand(5);
	if (.@r == 0)
		npctalk "媽媽……好痛……", "", bc_self;
	else if (.@r == 1)
		npctalk "你們都去死吧……", "", bc_self;
	else if (.@r == 2)
		npctalk "我不明白。為什麼……我？", "", bc_self;
	else if (.@r == 3)
		npctalk "呃……我不……值得這樣……", "", bc_self;
	else
		npctalk "你們都是……惡魔……", "", bc_self;
	mes "[悲傷的靈魂的思想]";
	mes "無數...主題的...頭腦...";
	mes "過去...現在...報仇...";
	next;
	if (.@r == 0)
		npctalk "我的心……太痛了……", "", bc_self;
	else if (.@r == 1)
		npctalk "我...會...送你去那裡...", "", bc_self;
	else if (.@r == 2)
		npctalk "我……已經沒有多少時間了……留在這裡。", "", bc_self;
	else if (.@r == 3)
		npctalk "你以為……在你做了這一切之後……你會活下去嗎？", "", bc_self;
	else
		npctalk "我是無辜的...我...不值得這樣...", "", bc_self;
	mes "[悲傷的靈魂的思想]";
	mes "你是誰？ ...";
	mes "可以...你能再次奪回我們的靈魂...折磨...悲傷嗎？";
	next;
	if (.@r == 0)
		npctalk "我想……回家……", "", bc_self;
	else if (.@r == 1)
		npctalk "我會……詛咒你……即使……我死了……", "", bc_self;
	else if (.@r == 2)
		npctalk "我什麼都沒有...", "", bc_self;
	else if (.@r == 3)
		npctalk "你……在想什麼？", "", bc_self;
	else
		npctalk "你……甚至……沒有……家庭？", "", bc_self;
	mes "[悲傷的靈魂的思想]";
	mes "如果你...可以...做...也許...我可以...給...你們...你...你需要...";
	next;
	setarray .@item_name$[0],
		getitemname(18971),	// Old_Rune_Circlet
		getitemname(18972),	// Old_Mitra
		getitemname(18973),	// Old_Driver_Band_R
		getitemname(18974),	// Old_Driver_Band_Y
		getitemname(18975),	// Old_Shadow_Handicraft
		getitemname(18976),	// Old_Minstrel_Song_Hat
		getitemname(18977),	// Old_Midas_Whisper
		getitemname(18978),	// Old_Magic_Stone_Hat
		getitemname(18979),	// Old_Blazing_Soul
		getitemname(18980),	// Old_Wind_Whisper
		getitemname(18981),	// Old_Dying_Swan
		getitemname(18984),	// Old_Camo_RabbitHood
		getitemname(18982),	// Old_Circlet_Of_Bone
		getitemname(18983),	// Old_Protect_Of_Crown
		getitemname(20749);	// Cloak of the Fallen Soldier[1]
	while(true) {
		if (checkweight(2677,5) == 0) {
			mes "[悲傷的靈魂的思想]";
			mes "你的背包..";
			mes "填滿...";
			close;
		}
		if (select("交出靈魂。", "結束談話。" ) == 2) {
			mes "[悲傷的靈魂的思想]";
			mes "...我希望...你...可以回來...再次給我...";
			close;
		}
		mes "[悲傷的靈魂的思想]";
		mes "如果您交出...我們的靈魂...我會做些...充滿...特殊的力量..使用一個組合...";
		mes "什麼...你...想要？ ...";
		while(true) {
			next;
			switch( select("返回上一級菜單。", .@item_name$[0], .@item_name$[1], .@item_name$[2], .@item_name$[3], .@item_name$[4], .@item_name$[5], .@item_name$[6], .@item_name$[7], .@item_name$[8], .@item_name$[9], .@item_name$[10], .@item_name$[11], .@item_name$[12], .@item_name$[13], .@item_name$[14] + "[1]" ) ) {
			case 1:
				break;
			case 2:
				mes "-" + .@item_name$[0] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1，MDEF + 5^000000";
				mes "^006400ATK + 4每1個改進水平增加^000000";
				mes "^006400ASPD + 1每5個改進水平增加^000000";
				mes "^006400increases MHP，MSP乘1％2每個細化水平增加^000000";
				mes "^006400 INCREASENCREASENCREAS IGNITION BREAK損壞20％^000000";
				mes "^006400Per 2改進水平增加^000000";
				mes "^006400使一百個長矛損壞造成15％^000000";
				mes "^006400Per 2改進水平增加^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級別：170工作：符文騎士^000000";
				callsub S_Make,
					18971,	// Old_Rune_Circlet
					19961,	// C_Rune_Circlet
					6814;	// Swordman_Soul
				continue;
			case 3:
				mes "-" + .@item_name$[1] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1，MDEF + 5^000000";
				mes "^006400matk + 2，ATK + 4，治愈量 +每1個改進水平增加2％。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400使Judex損壞每2個改進水平增加20％。 ^000000";
				mes "^006400 increases Magnus Exorcismus損害每2個改進水平增加10％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級別：170工作：大主教^000000";
				callsub S_Make,
					18972,	// Old_Mitra
					19962,	// C_Mitra
					6819;	// Acolyte_Soul
				continue;
			case 4:
				mes "-" + .@item_name$[2] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400ATK + 4每1個改進水平增加^000000";
				mes "^006400ASPD + 1每5個改進水平增加^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400使動力擺動傷害每2個改進水平增加20％。 ^000000";
				mes "^006400increases斧頭龍捲風損壞每2個改進水平增加20％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170作業：機械師^000000";
				callsub S_Make,
					18973,	// Old_Driver_Band_R
					19963,	// C_Driver_Band_R
					6815;	// Merchant_Soul
				continue;
			case 5:
				mes "-" + .@item_name$[3] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400ATK + 4每1個改進水平增加^000000";
				mes "^006400ASPD + 1每5個改進水平增加^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400使ARM CANNON損傷每2個改進水平增加5％。 ^000000";
				mes "^006400將自殺式破壞降低了10秒，每4個改進水平增加。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170作業：機械師^000000";
				callsub S_Make,
					18974,	// Old_Driver_Band_Y
					19964,	// C_Driver_Band_Y
					6815;	// Merchant_Soul
				continue;
			case 6:
				mes "-" + .@item_name$[4] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400ATK + 4，MATK + 4每個細化水平增加。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400 INCREAS三角形射擊損失25％每2個改進水平增加。 ^000000";
				mes "^006400在角色的完善水平達到6.^000000時，將化裝式 -  Unlock鑰匙置於偽裝 -  unlock鑰匙，將固定冷卻1秒鐘。";
				mes "^006400將化裝式的勞累性降低了，當您的角色的完善水平達到8.^000000時，弱點便宜了1秒";
				mes "^006400在角色的完善水平達到10。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170作業：Shadow_chaser^000000";
				callsub S_Make,
					18975,	// Old_Shadow_Handicraft
					19965,	// C_Shadow_Handicraft
					6816;	// Thief_Soul
				continue;
			case 7:
				mes "-" + .@item_name$[5] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400increases遠程遠程傷害每種細化水平增加1％。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400increases箭頭瓦肯紫菜損壞每2個改進水平增加20％。 ^000000";
				mes "^006400不斷增加嚴重的暴雨損害，每2個改進水平增加5％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級別：170工作：Minstrel^000000";
				callsub S_Make,
					18976,	// Old_Minstrel_Song_Hat
					19966,	// C_Minstrel_Song_Hat
					6818;	// Archer_Soul
				continue;
			case 8:
				mes "-" + .@item_name$[6] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400ATK + 4每1個改進水平增加^000000";
				mes "^006400increases遠程造成物理損害，每2個改進水平增加1％。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400 Increases Cart Cannon損壞每2個改進水平增加15％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170作業：通用^000000";
				callsub S_Make,
					18977,	// Old_Midas_Whisper
					19967,	// C_Midas_Whisper
					6815;	// Merchant_Soul
				continue;
			case 9:
				mes "-" + .@item_name$[7] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1 MDEF + 5^000000";
				mes "^006400 INCREASS SP恢復20％。 ^000000";
				mes "^006400matk +每種細化水平增加1％。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400使靈魂擴張損害每2個改進水平增加5％。 ^000000";
				mes "^006400將深紅色的岩石冷卻1秒。 ^000000";
				mes "^006400將深紅色的岩石置於0.1，具體取決於改進水平。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170作業：術士^000000";
				callsub S_Make,
					18978,	// Old_Magic_Stone_Hat
					19968,	// C_Magic_Stone_Hat
					6817;	// Mage_Soul
				continue;
			case 10:
				mes "-" + .@item_name$[8] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400ATK + 4，每個細化水平增加CRI + 2。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400 INCREASER橫使衝擊波損害每2個改進水平增加15％。 ^000000";
				mes "^006400使閃電射擊傷害每2個改進水平增加20％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級別：170工作：Sura^000000";
				callsub S_Make,
					18979,	// Old_Blazing_Soul
					19969,	// C_Blazing_Soul
					6819;	// Acolyte_Soul
				continue;
			case 11:
				mes "-" + .@item_name$[9] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1 MDEF + 5.^000000";
				mes "^006400matk + 1％，每個細化水平增加ATK + 4。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400使毒藥爆發傷害每2個改進水平增加15％。 ^000000";
				mes "^006400 INCREASERES VERETYR SPEAR損壞每2個改進水平增加20％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170工作：巫師^000000";
				callsub S_Make,
					18980,	// Old_Wind_Whisper
					19970,	// C_Wind_Whisper
					6817;	// Mage_Soul
				continue;
			case 12:
				mes "-" + .@item_name$[10] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400increases遠程遠程傷害每種細化水平增加1％。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400increases箭頭瓦肯紫菜損壞每2個改進水平增加20％。 ^000000";
				mes "^006400不斷增加嚴重的暴雨損害，每2個改進水平增加5％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170工作：流浪者^000000";
				callsub S_Make,
					18981,	// Old_Dying_Swan
					19971,	// C_Dying_Swan
					6818;	// Archer_Soul
				continue;
			case 13:
				mes "-" + .@item_name$[11] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400increases遠程遠程傷害每種細化水平增加1％。 ^000000";
				mes "^006400 Complete逃避+1每3個改進水平增加。 ^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400 INCREASES集群炸彈損壞每2個改進水平增加15％。 ^000000";
				mes "^006400使WARG罷工損害每2個改進水平增加10％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170工作：Ranger^000000";
				callsub S_Make,
					18984,	// Old_Camo_RabbitHood
					19974,	// C_Camouflage_RabbitHood
					6818;	// Archer_Soul
				continue;
			case 14:
				mes "-" + .@item_name$[12] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1^000000";
				mes "^006400使嚴重損害增加1％，並且每種細化水平的攻擊速度增加（減少攻擊延遲1％）^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400 INCREASERASE CROSS撞擊損害每2個改進水平增加10％。 ^000000";
				mes "^006400 INCREASES CRACEPER SLASH損壞每2個改進水平增加20％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170工作：Guillotine_cross^000000";
				callsub S_Make,
					18982,	// Old_Circlet_Of_Bone
					19973,	// C_Circlet_Of_Bone
					6816;	// Thief_Soul
				continue;
			case 15:
				mes "-" + .@item_name$[13] + " -";
				mes "^006400這項目不能與其他帳戶交易。 ^000000";
				mes "^006400 所有狀態 + 1 MDEF + 5.^000000";
				mes "^006400ATK + 4每1個改進水平增加^000000";
				mes "^006400ASPD + 1每5個改進水平增加^000000";
				mes "^006400increases MHP，MSP每2個改進水平增加^000000";
				mes "^006400 INCREASE CANNON SPEAR損壞每2個改進水平增加20％。 ^000000";
				mes "^006400對品牌損害的損害每2個改進水平增加5％。 ^000000";
				mes "^006400TYPE：頭盔防禦：10^000000";
				mes "^006400點：最高重量：10^000000";
				mes "^006400槽位:1^000000";
				mes "^006400級級別：170工作：皇家衛隊^000000";
				callsub S_Make,
					18983,	// Old_Protect_Of_Crown
					19972,	// C_Protect_Of_Crown
					6814;	// Swordman_Soul
				continue;
			case 16:
				mes "-" + .@item_name$[14] + "[1] -";
				mes "^006400 legendary鐘錶已知 ^000000 ^006400勇敢地戰鬥並在戰鬥中被殺。";
				mes "增加MHP，MSP每2個改進水平增加1％";
				mes "當您的角色的純str達到90時，ATK + 10。";
				mes "（每個細化水平增加額外的ATK + 2）";
				mes "當您的角色的純粹INT達到90時，MATK + 20。";
				mes "（每個細化水平增加額外的MATK + 3）";
				mes "當您的角色的純Vit達到90";
				mes "3％抵抗正常攻擊";
				mes "（當改進水平達到8時，另外3％";
				mes "當精煉水平達到10時，額外4％）";
				mes "當您的角色的純粹AGI達到90";
				mes "提高攻擊速度（3％的攻擊延遲減少）";
				mes "（攻擊延遲另外減少了每2個改進水平增加1％）";
				mes "（當您的角色的完善級別達到10時，其他ASPD + 1。）";
				mes "當您角色的純粹DEX達到90";
				mes "將遠程攻擊力量提高3％";
				mes "（每2個改進水平增加1％）";
				mes "當你角色的盧克達到90";
				mes "將關鍵損害增加5％。";
				mes "（每個細化水平增加1％）";
				mes "類型：長袍防禦：30";
				mes "重量：60";
				mes "插槽：1";
				mes "必需級別：170工作：全^000000";
				callsub S_Make,
					20749,	// Manteau_Of_Fallen_
					20748,	// Manteau_Of_Fallen
					6471,	// Goast_Chill
					true;
				continue;
			}
			break;
		}
	}

S_Make:
	.@reward_id = getarg(0);
	.@equipment_req = getarg(1);
	.@item_misc_req = getarg(2);
	if (getarg(3,0)) {
		setarray .@string$[0], "chill", "cloak";
		setarray .@material[0],20,100;	// chill, energy
	}
	else {
		setarray .@string$[0], "soul", "hat";
		setarray .@material[0],1,20;	// soul, energy
	}
	next;
	mes "[悲傷的靈魂的思想]";
	mes "為了製造... ^006400" + getitemname(.@reward_id) + "^000000...";
	mes "帶他們...徘徊" + .@string$[0] + ", " + .@string$[1] + "... the vessel to hold the soul and... the dark energy... filling up this place...";
	next;
	mes "[悲傷的靈魂的思想]";
	mes "我需要1" + getitemname(.@equipment_req) + ", " + .@material[0] + " " + getitemname(.@item_misc_req) + "... " + .@material[1] + " " + getitemname(6820) + "..";
	mes "如果5次" + getitemname(6820) + " and " + .@string$[0] + "s are collected... you... will never fail...";
	mes "怎麼...你會做的？";
	next;
	switch( select("返回上一級菜單。", "使用" + .@material[1] + "能量，" + .@material[0] + " " + .@string$[0], "使用" + (.@material[1] * 5) + " energies, " + (.@material[0] * 5) + " " + .@string$[0] + "s" ) ) {
	case 1:
		mes "[悲傷的靈魂的思想]";
		mes "我希望...你可以...看到...其他東西...也...";
		return;
	case 2:
		.@rate = 1;
		break;
	case 3:
		.@rate = 5;
		break;
	}
	if (countitem(.@equipment_req) < 1 || countitem(.@item_misc_req) < (.@material[0] * .@rate) || countitem(6820) < (.@material[1] * .@rate)) {
		mes "[悲傷的靈魂的思想]";
		mes "你沒有...有足夠的材料... ^006400" + getitemname(.@reward_id) + "^000000...";
		return;
	}
	progressbar "000000",5;
	percentheal -50,-50;
	specialeffect2 EF_POISONSMOKE;
	specialeffect2 EF_NPC_BURNT;
	delitem .@equipment_req, 1;
	delitem .@item_misc_req, (.@material[0] * .@rate);
	delitem 6820, (.@material[1] * .@rate);// Energy Fragment

	if ((20*.@rate) > rand(100)) {
		specialeffect EF_BLACKBODY;
		specialeffect EF_GUMGANG4;
		specialeffect EF_DARKCASTING2;
		specialeffect EF_RG_COIN7;
		mes "[悲傷的靈魂的思想]";
		mes "這是... ^006400" + getitemname(.@reward_id) + "^000000...";
		getitem .@reward_id,1;
	}
	else {
		specialeffect EF_POISONSMOKE;
		specialeffect EF_GUMGANG4;
		mes "[悲傷的靈魂的思想]";
		mes "^006400" + getitemname(.@reward_id) + "^000000... failed...";
	}
	next;
	mes "- 我受到了嚴重的傷害 - 通過頭腦強大的波長 - 滲入了我的身體。 -";
	next;
	mes "[悲傷的靈魂的思想]";
	mes "有...有什麼...我可以...幫助您嗎？";
	return;
}

// Exchange npcs - safe map (no mobs)
lhz_d_n2,53,49,4	duplicate(Silent Mind#JCv2)	Silent Mind#JCv2C	4_CENERE
lhz_d_n2,42,49,2	duplicate(Wandering Mind#JCv2)	Wandering Mind#JCv2C	4_CENERE
lhz_d_n2,51,53,4	duplicate(Victimized Soul's Mind#1)	Victimized Soul's Mind#1C	4_M_DEATH2
lhz_d_n2,44,53,6	duplicate(Sorrowful Soul's Mind#1)	Sorrowful Soul's Mind#1C	4_M_DEATH

// Safe map - Exit
lhz_d_n2,34,45,3	script	#lhzdw	1_SHADOW_NPC,{
	mes "[賭注]";
	mes "您可以看到出口。";
	next;
	if (select("返回萊特哈爾岑。", "別回去。" ) == 1)
		warp "lighthalzen",310,228;
	end;
}

// Heal
lhz_dun_n,167,259,2	script	A Questionable Device#l	4_SYSTEM_BOX,3,3,{
	if (isbegin_quest(14683) == 1) {
		mes "[系統消息]";
		mes "緊急協議激活。用戶將能夠運行RT-223。";
		next;
		if (select("不要跑。", "跑步。" ) == 2) {
			mes "[系統消息]";
			mes "所有人員應按照緊急規則行事。";
			close;
		}
		specialeffect EF_MAPPILLAR;
		mes "[系統消息]";
		mes "向用戶運行RT-223。備用模式將在此過程之後激活。";
		specialeffect2 EF_BABY;
		percentheal 100,100;
		completequest 14683;// Mysterious Device
		close;
	}
	end;

OnTouch:
	npctalk "所有人員應按照應急規則行事。", "", bc_self;
	end;

OnInit:
	questinfo( QTYPE_QUEST, QMARK_YELLOW, "isbegin_quest(14683) == 1" );
	end;
}

// Misc
lhz_dun_n,75,121,0	script	#Alphoccio_Basil_A1	HIDDEN_WARP_NPC,3,3,{
	end;
OnTouch:
	specialeffect EF_BAT2;
	disablenpc();
	initnpctimer;
	end;
OnTimer1000:
	.@npc_name$ = strnpcinfo(0);
	if (.@npc_name$ == "#Alphoccio_Basil_A1") {
		.@talker_name$ = "#lhz_dun_talk_A23"; 
		switch (rand(5)) {
			case 0:	 .@msg$ = "It was my mistake to think that this will be just traveling..."; break;
			case 1:	 .@msg$ = "Hah... And so what?.. I listen to my wife..."; break;
			case 2:	 .@msg$ = "What's wrong with them all here?.. Why such eyes?.."; break;
			case 3:	 .@msg$ = "I can hear the sounds of music and songs.. Hah hah..."; break;
			default: .@msg$ = "Where am I?.. Is there any exit?.."; break;
		}
	}
	else if (.@npc_name$ == "#Alphoccio_Basil_A2") {
		.@talker_name$ = "#lhz_dun_talk_A24";
		switch (rand(5)) {
			case 0:	 .@msg$ = "I thought we could make songs and travel around the world forever..."; break;
			case 1:	 .@msg$ = "It doesn't matter where are we while you're near me..."; break;
			case 2:	 .@msg$ = "Trentini... Where are you..."; break;
			case 3: .@msg$ = "The sound of the song is fading away..."; break;
			default: .@msg$ = "And now... What is left for me?.."; break;
		}
	}
	else if (.@npc_name$ == "#Catherine Cheiron_A1") {
		.@talker_name$ = "#lhz_dun_talk_A5";
		switch (rand(5)) {
			case 0:	 .@msg$ = "It's a very strange trick..."; break;
			case 1:	 .@msg$ = "Sob sob... Somebody... Please.."; break;
			case 2:	 .@msg$ = "It's cold... This place... Is it a warehouse?.."; break;
			case 3:	 .@msg$ = "My voice... won't come out..."; break;
			default: .@msg$ = "Friends... I'm scared..."; break;
		}
	}
	else if (.@npc_name$ == "#Katrinn Chiron_A2") {
		.@talker_name$ = "#lhz_dun_talk_A6";
		switch (rand(5)) {
			case 0:	 .@msg$ = "Seyren... Where are you..."; break;
			case 1:	 .@msg$ = "Pain... Darkness... I'm scared..."; break;
			case 2:  .@msg$ = "The magic that was so hard for me to learn is now just... useless..."; break;
			case 3:  .@msg$ = "Those who are not humans..."; break;
			default: .@msg$ = "Friends... Too dark..."; break;
		}
	}
	else if (.@npc_name$ == "#Celia_Alde_A1") {
		.@talker_name$ = "#lhz_dun_talk_A17";
		switch (rand(5)) {
			case 0:  .@msg$ = "Crap... This is crazy... All of this..."; break;
			case 1:  .@msg$ = "I'm not sure I could tell who..."; break;
			case 2:	 .@msg$ = "So poor spirit here... May it be..."; break;
			case 3:  .@msg$ = "This is ridiculous... How this could even happen..?"; break;
			default: .@msg$ = "Darn it... This is beyond my analytical abilities... Impossible..."; break;
		}
	}
	else if (.@npc_name$ == "#Celia_Alde_A2") {
		.@talker_name$ = "#lhz_dun_talk_A18";
		switch (rand(4)) {
			case 0:  .@msg$ = "Nobody around... What is..."; break;
			case 1:  .@msg$ = "My... survival... and escape... analysis results..."; break;
			case 2:	 .@msg$ = "Where... what... No, no... Never..."; break;
			default: .@msg$ = "I wanna get out of here as soon as possible..."; break;
		}
	}
	else if (.@npc_name$ == "#Chen_Liu_A1") {
		.@talker_name$ = "#lhz_dun_talk_A19";
		switch (rand(5)) {
			case 0:  .@msg$ = "My head feels somewhat weird..."; break;
			case 1:  .@msg$ = "This place seems like an abandoned cellar..."; break;
			case 2:	 .@msg$ = "There's a wound in my chest... What's goin..."; break;
			case 3:	 .@msg$ = "I'm about to lose myself..."; break;
			default: .@msg$ = "I'm a Monk... Agent of divine punishment..."; break;
		}
	}
	else if (.@npc_name$ == "#Chen_Liu_A2") {
		.@talker_name$ = "#lhz_dun_talk_A20";
		switch (rand(4)) {
			case 0:  .@msg$ = "Enemies' faces... That's collegues' faces..."; break;
			case 1:  .@msg$ = "St Capitolina Abbey... There's still a work to be done..."; break;
			case 2:	 .@msg$ = "My wound is sewed up... What the hell they have done to me?.."; break;
			default: .@msg$ = "Holy power... Power of the mind..."; break;
		}
	}
	else if (.@npc_name$ == "#Eremes_Guille_A1") {
		.@talker_name$ = "#lhz_dun_talk_A7";
		switch (rand(5)) {
			case 0:  .@msg$ = "Concentrate on survival..."; break;
			case 1:  .@msg$ = "I bear the Guillotine crest, I must survive!.."; break;
			case 2:	 .@msg$ = "Don't give up... Remember the mission..."; break;
			case 3:	 .@msg$ = "Exit is not near at all... I can't see it..."; break;
			default: .@msg$ = "All of this... It was planned meticulously for sure..."; break;
		}
	}
	else if (.@npc_name$ == "#Eremes_Guille_A2") {
		.@talker_name$ = "#lhz_dun_talk_A8";
		switch (rand(5)) {
			case 0:  .@msg$ = "Is Katrinn all right... I must protect..."; break;
			case 1:  .@msg$ = "I must complete my mission... My orders..."; break;
			case 2:	 .@msg$ = "Assasin Guild waits for me..."; break;
			case 3: .@msg$ = "I cannot believe I fell into a trap like this..."; break;
			default: .@msg$ = "My eyes are blurred... I won't last long..."; break;
		}
	}
	else if (.@npc_name$ == "#Flamel_Emule_A1") {
		.@talker_name$ = "#lhz_dun_talk_A15";
		switch (rand(5)) {
			case 0:	 .@msg$ = "I've never felt so helpless before..."; break;
			case 1:	 .@msg$ = "Celia... I'm scared..."; break;
			case 2:	 .@msg$ = "My body is full of surgical scars..."; break;
			case 3:	 .@msg$ = "Nobody showed up... Nobody... Here..."; break;
			default: .@msg$ = "I can bear it..."; break;
		}
	}
	else if (.@npc_name$ == "#Flamel_Emule_A2") {
		.@talker_name$ = "#lhz_dun_talk_A16";
		switch (rand(5)) {
			case 0:  .@msg$ = "My family... Geneticists... gonna be so embarassed..."; break;
			case 1:  .@msg$ = "I feel like... my consciousness... is no longer me..."; break;
			case 2:	 .@msg$ = "My consciousness... is fading..."; break;
			case 3:	 .@msg$ = "Now with the last remaining strength..."; break;
			default: .@msg$ = "My body... what... No way..."; break;
		}
	}
	else if (.@npc_name$ == "#Gertie_Wie_A1") {
		.@talker_name$ = "#lhz_dun_talk_A21";
		switch (rand(4)) {
			case 0:	 .@msg$ = "We have been used..."; break;
			case 1:	 .@msg$ = "What are you up to..."; break;
			case 2:	 .@msg$ = "It's too wide... Can't see any exit..."; break;
			default: .@msg$ = "Hah... Grand misfortune..."; break;
		}
	}
	else if (.@npc_name$ == "#Gertie_Wie_A2") {
		.@talker_name$ = "#lhz_dun_talk_A22";
		switch (rand(5)) {
			case 0:	 .@msg$ = "I should have received more money if I knew this would happen..."; break;
			case 1:	 .@msg$ = "My cheeks are burning... Whatever happened to us... It's right..."; break;
			case 2:	 .@msg$ = "My ages are gone... Young ones... Shall grow up into warriors..."; break;
			case 3:	 .@msg$ = "I'll watch carefully... I should remember..."; break;
			default: .@msg$ = "If we knew this would happen and we'd get this..."; break;
		}
	}
	else if (.@npc_name$ == "#Harword_AltEisen_A1") {
		.@talker_name$ = "#lhz_dun_talk_A9";
		switch (rand(5)) {
			case 0:  .@msg$ = "What moves my body now... Is it really my will..?"; break;
			case 1:  .@msg$ = "Where is this plase?.. I was told nothing..."; break;
			case 2:  .@msg$ = "I won't go anywhere... I'll be by your side..."; break;
			case 3:  .@msg$ = "I must look for my sister Cecil... no matter what..."; break;
			default: .@msg$ = "Dangerous... My mind shuts down..."; break;
		}
	}
	else if (.@npc_name$ == "#Harword Alt-Eisen_A2") {
		.@talker_name$ = "#lhz_dun_talk_A10";
		switch (rand(3)) {
			case 0:	 .@msg$ = "I cannot see my future anymore..."; break;
			case 1: .@msg$ = "My eyes... just keep... closing..."; break;
			default: .@msg$ = "Damn it... Cheer up... Don't loose the will..."; break;
		}
	}
	else if (.@npc_name$ == "#Magaleta_Sorin_A1") {
		.@talker_name$ = "#lhz_dun_talk_A3";
		switch (rand(5)) {
			case 0:  .@msg$ = "Dear Odin... Let Seyren be all..."; break;
			case 1:  .@msg$ = "All of this terrifies me..."; break;
			case 2:	 .@msg$ = "That's not my will... This is not me..."; break;
			case 3:	 .@msg$ = "Holy power can't heal the black blood..."; break;
			default: .@msg$ = "Dear Odin... May we... May he..."; break;
		}
	}
	else if (.@npc_name$ == "#Magaleta_Sorin_A2") {
		.@talker_name$ = "#lhz_dun_talk_A4";
		switch (rand(4)) {
			case 0:  .@msg$ = "Dear Odin, be my strength remaining..."; break;
			case 1:  .@msg$ = "My body keeps loosing its strength..."; break;
			case 2:	 .@msg$ = "Holy powers keep weakening..."; break;
			default: .@msg$ = "My Seyren... Where are you..."; break;
		}
	}
	else if (.@npc_name$ == "#Randel_Lawrence_A1") {
		.@talker_name$ = "#lhz_dun_talk_A13";
		switch (rand(4)) {
			case 0:  .@msg$ = "I was dispatched here as the commander..."; break;
			case 1:  .@msg$ = "Now it's impossible... Really..."; break;
			case 2:	 .@msg$ = "I'll show you paladins strength..."; break;
			default: .@msg$ = "Where is my crew..."; break;
		}
	}
	else if (.@npc_name$ == "#Randel_Lawrence_A2") {
		.@talker_name$ = "#lhz_dun_talk_A14";
		switch (rand(5)) {
			case 0:  .@msg$ = "Dispatched crew... If any of you survive... You must make out of this... This is an order..."; break;
			case 1:  .@msg$ = "My powers are gone now..."; break;
			case 2:	 .@msg$ = "What is that?.. I'm changing..."; break;
			case 3:	 .@msg$ = "Am I the last survivor here?.."; break;
			default: .@msg$ = "Have I fallen? It darkens before my eyes..."; break;
		}
	}
	else if (.@npc_name$ == "#Seyren_Windsor_A1") {
		.@talker_name$ = "#lhz_dun_talk_A1";
		switch (rand(4)) {
			case 0:  .@msg$ = "I have to find my fellows... I must..."; break;
			case 1:  .@msg$ = "Where's Sorin?.. Are my friends all right?.."; break;
			case 2:	 .@msg$ = "There is a traitor amongst our leaders... Nobody is safe to tell to..."; break;
			default: .@msg$ = "My father should be informed of this..."; break;
		}
	}
	else if (.@npc_name$ == "#Seyren_Windsor_A2") {
		.@talker_name$ = "#lhz_dun_talk_A2";
		switch (rand(5)) {
			case 0:  .@msg$ = "My guilt tightens..."; break;
			case 1:  .@msg$ = "I am Windsor, son of honor, I shall not defile my name..."; break;
			case 2:	 .@msg$ = "Gotta flee from them... This should never..."; break;
			case 3:	 .@msg$ = "We cannot die in such a place..."; break;
			default: .@msg$ = "My love... Margaretha..."; break;
		}
	}
	else if (.@npc_name$ == "#Shecil_Damon_A1") {
		.@talker_name$ = "#lhz_dun_talk_A11";
		switch (rand(5)) {
			case 0:  .@msg$ = "Keep calm... It's okay..."; break;
			case 1:  .@msg$ = "This hallway is not the exit too..."; break;
			case 2:	 .@msg$ = "I'll come... Wait for me, Sorin..."; break;
			case 3:  .@msg$ = "I'm scared... Very... scared..."; break;
			default: .@msg$ = "I still have my bow and arrows..."; break;
		}
	}
	else if (.@npc_name$ == "#Shecil_Damon_A2") {
		.@talker_name$ = "#lhz_dun_talk_A12";
		switch (rand(5)) {
			case 0:	 .@msg$ = "I cannot die like this here..."; break;
			case 1:	 .@msg$ = "Sorin... Where did you go..."; break;
			case 2:	 .@msg$ = "Friends... That's what I miss..."; break;
			case 3:	 .@msg$ = "What's in that space?.. Where will come up..?"; break;
			default: .@msg$ = "I can do this... It's not an end..."; break;
		}
	}
	else if (.@npc_name$ == "#Trentini_A1") {
		.@talker_name$ = "#lhz_dun_talk_A25";
		switch (rand(5)) {
			case 0:  .@msg$ = "I can feel where he is..."; break;
			case 1:  .@msg$ = "What do I do now?.. My head aches too much..."; break;
			case 2:	 .@msg$ = "It's my fault... I shoul break up with Alphoccio in the end..."; break;
			case 3:	 .@msg$ = "It's an end, it's an oppression... That's the result..."; break;
			default: .@msg$ = "I miss you... Very much..."; break;
		}
	}
	else if (.@npc_name$ == "#Trentini_A2") {
		.@talker_name$ = "#lhz_dun_talk_A26";
		switch (rand(4)) {
			case 0:  .@msg$ = "Is anybody there?.. Friends, please... Ah..."; break;
			case 1:  .@msg$ = "That Taro reading was terrifying..."; break;
			case 2:	 .@msg$ = "I liked all their voices so much..."; break;
			default: .@msg$ = "My body won't move at all..."; break;
		}
	}
	npctalk .@msg$, .@talker_name$;
	end;
OnTimer40000:
	stopnpctimer;
	enablenpc();
	end;
}

lhz_dun_n,92,102,0	duplicate(#Alphoccio_Basil_A1)	#Alphoccio_Basil_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,150,74,0	duplicate(#Alphoccio_Basil_A1)	#Catherine Cheiron_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,174,98,0	duplicate(#Alphoccio_Basil_A1)	#Katrinn Chiron_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,25,65,0	duplicate(#Alphoccio_Basil_A1)	#Celia_Alde_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,60,102,0	duplicate(#Alphoccio_Basil_A1)	#Celia_Alde_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,194,188,0	duplicate(#Alphoccio_Basil_A1)	#Chen_Liu_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,255,206,0	duplicate(#Alphoccio_Basil_A1)	#Chen_Liu_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,81,184,0	duplicate(#Alphoccio_Basil_A1)	#Eremes_Guille_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,113,191,0	duplicate(#Alphoccio_Basil_A1)	#Eremes_Guille_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,84,87,0	duplicate(#Alphoccio_Basil_A1)	#Flamel_Emule_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,39,55,0	duplicate(#Alphoccio_Basil_A1)	#Flamel_Emule_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,232,198,0	duplicate(#Alphoccio_Basil_A1)	#Gertie_Wie_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,130,148,0	duplicate(#Alphoccio_Basil_A1)	#Gertie_Wie_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,119,195,0	duplicate(#Alphoccio_Basil_A1)	#Harword Alt-Eisen_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,158,210,0	duplicate(#Alphoccio_Basil_A1)	#Harword Alt-Eisen_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,159,122,0	duplicate(#Alphoccio_Basil_A1)	#Magaleta_Sorin_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,133,39,0	duplicate(#Alphoccio_Basil_A1)	#Magaleta_Sorin_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,168,193,0	duplicate(#Alphoccio_Basil_A1)	#Randel_Lawrence_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,188,188,0	duplicate(#Alphoccio_Basil_A1)	#Randel_Lawrence_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,44,155,0	duplicate(#Alphoccio_Basil_A1)	#Seyren Windsor_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,54,221,0	duplicate(#Alphoccio_Basil_A1)	#Seyren Windsor_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,249,66,0	duplicate(#Alphoccio_Basil_A1)	#Shecil_Damon_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,213,97,0	duplicate(#Alphoccio_Basil_A1)	#Shecil_Damon_A2	HIDDEN_WARP_NPC,3,3
lhz_dun_n,191,129,0	duplicate(#Alphoccio_Basil_A1)	#Trentini_A1	HIDDEN_WARP_NPC,3,3
lhz_dun_n,259,132,0	duplicate(#Alphoccio_Basil_A1)	#Trentini_A2	HIDDEN_WARP_NPC,3,3

lhz_dun_n,44,155,6	script	#lhz_dun_talk_A1	CLEAR_NPC,{ end; }
lhz_dun_n,54,221,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A2	CLEAR_NPC
lhz_dun_n,159,122,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A3	CLEAR_NPC
lhz_dun_n,133,39,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A4	CLEAR_NPC
lhz_dun_n,150,74,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A5	CLEAR_NPC
lhz_dun_n,174,98,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A6	CLEAR_NPC
lhz_dun_n,81,184,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A7	CLEAR_NPC
lhz_dun_n,113,191,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A8	CLEAR_NPC
lhz_dun_n,119,195,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A9	CLEAR_NPC
lhz_dun_n,158,210,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A10	CLEAR_NPC
lhz_dun_n,249,66,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A11	CLEAR_NPC
lhz_dun_n,213,97,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A12	CLEAR_NPC
lhz_dun_n,168,193,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A13	CLEAR_NPC
lhz_dun_n,188,188,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A14	CLEAR_NPC
lhz_dun_n,84,87,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A15	CLEAR_NPC
lhz_dun_n,39,55,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A16	CLEAR_NPC
lhz_dun_n,25,65,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A17	CLEAR_NPC
lhz_dun_n,60,102,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A18	CLEAR_NPC
lhz_dun_n,194,188,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A19	CLEAR_NPC
lhz_dun_n,255,206,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A20	CLEAR_NPC
lhz_dun_n,232,198,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A21	CLEAR_NPC
lhz_dun_n,130,148,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A22	CLEAR_NPC
lhz_dun_n,75,121,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A23	CLEAR_NPC
lhz_dun_n,92,102,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A24	CLEAR_NPC
lhz_dun_n,191,129,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A25	CLEAR_NPC
lhz_dun_n,259,132,6	duplicate(#lhz_dun_talk_A1)	#lhz_dun_talk_A26	CLEAR_NPC

// npc location -> quest ID inaccurate
lhz_dun_n,132,61,2	script	A Questionable Device#14684	4_SYSTEM_BOX,5,5,{
	end;
OnTouch:
	.@quest_id = atoi(strnpcinfo(2));
	switch( checkquest(.@quest_id,PLAYTIME) ) {
	case -1:
		break;
	case 0:
	case 1:
		npctalk "... 當前... 需要... 冷卻.. 停機.. 時間..";
		end;
	case 2:
		erasequest .@quest_id;
		break;
	}
	specialeffect EF_MAPPILLAR;
	npctalk "緊急協議...激活..至..RT..017...冷卻...1小時......";
	specialeffect2 EF_BABY;
	setquest .@quest_id;// Mysterious Device
	switch( .@quest_id ) {
	case 14684:
		// atk dmg+10%, def+10% on monsters (inaccurates, unknown values)
		// atk+: Swordman, Thief / def+: Acolyte, Merchant
		sc_start2 SC_LHZ_DUN_N1,1800000,10,10,10000,SCSTART_NOTICKDEF;	/// last 30 mins
		break;
	case 14685:
		// atk+: Acolyte, Merchant / def+: Mage, Archer
		sc_start2 SC_LHZ_DUN_N2,1800000,10,10,10000,SCSTART_NOTICKDEF;
		break;
	case 14686:
		// atk+: Mage, Archer / def+: Swordman, Thief
		sc_start2 SC_LHZ_DUN_N3,1800000,10,10,10000,SCSTART_NOTICKDEF;
		break;
	case 14687:
		// atk+: MvPs / def+: MvPs
		sc_start2 SC_LHZ_DUN_N4,1800000,10,10,10000,SCSTART_NOTICKDEF;
		break;
	}
	end;

OnInit:
	.@condition$ = "!isbegin_quest(" + strnpcinfo(2) + ")";
	questinfo( QTYPE_QUEST, QMARK_YELLOW, .@condition$ );
	end;
}

lhz_dun_n,53,127,2	duplicate(A Questionable Device#14684)	A Questionable Device#14685	4_SYSTEM_BOX,5,5
lhz_dun_n,214,127,2	duplicate(A Questionable Device#14684)	A Questionable Device#14686	4_SYSTEM_BOX,5,5
lhz_dun_n,148,148,2	duplicate(A Questionable Device#14684)	A Questionable Device#14687	4_SYSTEM_BOX,5,5

/*
// Unknown effects
lhz_dun_n,130,204,2	script	Dead Man#lhzd01	4_TOWER_06,5,5
lhz_dun_n,78,133,2	script	Dead Man#lhzd02	4_TOWER_06,5,5
lhz_dun_n,47,65,2	script	Dead Man#lhzd03	4_TOWER_06,5,5
lhz_dun_n,141,39,2	script	Dead Man#lhzd04	4_TOWER_06,5,5
lhz_dun_n,123,85,2	script	Dead Man#lhzd05	4_TOWER_06,5,5
lhz_dun_n,212,71,2	script	Dead Man#lhzd06	4_TOWER_06,5,5
lhz_dun_n,213,109,2	script	Dead Man#lhzd07	4_TOWER_06,5,5
lhz_dun_n,145,179,2	script	Dead Man#lhzd08	4_TOWER_06,5,5
lhz_dun_n,233,135,2	script	Dead Man#lhzd09	4_TOWER_06,5,5
lhz_dun_n,241,201,2	script	Dead Man#lhzd10	4_TOWER_06,5,5
lhz_dun_n,150,211,2	script	Dead Man#lhzd11	4_TOWER_03,5,5
lhz_dun_n,69,144,2	script	Dead Man#lhzd12	4_TOWER_03,5,5
lhz_dun_n,113,81,2	script	Dead Man#lhzd13	4_TOWER_03,5,5
lhz_dun_n,144,64,2	script	Dead Man#lhzd14	4_TOWER_03,5,5
lhz_dun_n,157,93,2	script	Dead Man#lhzd15	4_TOWER_03,5,5
lhz_dun_n,231,69,2	script	Dead Man#lhzd16	4_TOWER_03,5,5
lhz_dun_n,179,107,2	script	Dead Man#lhzd17	4_TOWER_03,5,5
lhz_dun_n,172,175,2	script	Dead Man#lhzd18	4_TOWER_03,5,5
lhz_dun_n,228,149,2	script	Dead Man#lhzd19	4_TOWER_03,5,5
lhz_dun_n,248,218,2	script	Dead Man#lhzd20	4_TOWER_03,5,5
lhz_dun_n,139,233,2	script	Dead Man#lhzd21	4_TOWER_08,5,5
lhz_dun_n,69,110,2	script	Dead Man#lhzd22	4_TOWER_08,5,5
lhz_dun_n,100,109,2	script	Dead Man#lhzd23	4_TOWER_08,5,5
lhz_dun_n,137,72,2	script	Dead Man#lhzd24	4_TOWER_08,5,5
lhz_dun_n,169,85,2	script	Dead Man#lhzd25	4_TOWER_08,5,5
lhz_dun_n,245,63,2	script	Dead Man#lhzd26	4_TOWER_08,5,5
lhz_dun_n,182,126,2	script	Dead Man#lhzd27	4_TOWER_08,5,5
lhz_dun_n,182,154,2	script	Dead Man#lhzd28	4_TOWER_08,5,5
lhz_dun_n,246,141,2	script	Dead Man#lhzd29	4_TOWER_08,5,5
lhz_dun_n,236,226,2	script	Dead Man#lhzd30	4_TOWER_08,5,5
lhz_dun_n,38,200,2	script	Dead Man#lhzd31	4_TOWER_11,5,5
lhz_dun_n,95,86,2	script	Dead Man#lhzd32	4_TOWER_11,5,5
lhz_dun_n,98,138,2	script	Dead Man#lhzd33	4_TOWER_11,5,5
lhz_dun_n,145,89,2	script	Dead Man#lhzd34	4_TOWER_11,5,5
lhz_dun_n,186,92,2	script	Dead Man#lhzd35	4_TOWER_11,5,5
lhz_dun_n,181,148,2	script	Dead Man#lhzd36	4_TOWER_11,5,5
lhz_dun_n,181,148,2	script	Dead Man#lhzd37	4_TOWER_11,5,5
lhz_dun_n,203,144,2	script	Dead Man#lhzd38	4_TOWER_11,5,5
lhz_dun_n,240,134,2	script	Dead Man#lhzd39	4_TOWER_11,5,5
lhz_dun_n,141,129,2	script	Dead Man#lhzd40	4_TOWER_11,5,5
lhz_dun_n,81,160,2	script	Dead Man#lhzd41	4_TOWER_13,5,5
lhz_dun_n,41,77,2	script	Dead Man#lhzd42	4_TOWER_13,5,5
lhz_dun_n,99,162,2	script	Dead Man#lhzd43	4_TOWER_13,5,5
lhz_dun_n,136,95,2	script	Dead Man#lhzd44	4_TOWER_13,5,5
lhz_dun_n,184,80,2	script	Dead Man#lhzd45	4_TOWER_13,5,5
lhz_dun_n,202,102,2	script	Dead Man#lhzd46	4_TOWER_13,5,5
lhz_dun_n,157,143,2	script	Dead Man#lhzd47	4_TOWER_13,5,5
lhz_dun_n,202,133,2	script	Dead Man#lhzd48	4_TOWER_13,5,5
lhz_dun_n,220,178,2	script	Dead Man#lhzd49	4_TOWER_13,5,5
lhz_dun_n,131,148,2	script	Dead Man#lhzd50	4_TOWER_13,5,5
*/
